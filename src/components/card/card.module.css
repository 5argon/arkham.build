.card-container {
  --card-text-size-sm: var(--text-sm);
  --card-text-size: var(--text-base);
  --card-title-size: var(--text-lg);
  --card-spacing: 1rem;
  font-family: var(--font-family-content);
}

.card {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto auto auto auto;
  gap: var(--card-spacing);
  grid-template-areas:
    "header"
    "image"
    "details"
    "content";
  width: 100%;
  background: var(--nord-1);
  border: 1px solid var(--nord-2);
  border-radius: var(--rounded-md);
  padding-bottom: var(--card-spacing);

  &:not(.has-image) {
    grid-template-columns: 1fr;
  }

  & > * {
    padding-left: var(--card-spacing);
    padding-right: var(--card-spacing);
  }
}

.card-container.full .card {
  border-width: 2px;

  @container (min-width: 33.5rem) {
    grid-template-columns: 10fr 6fr;
    grid-template-rows: auto auto 1fr;
    grid-template-areas:
      "header header"
      "details image"
      "content image";

    &.sideways {
      grid-template-columns: 9fr 7fr;
    }

    &.back:not(.back-has-header) {
      padding: var(--card-spacing) 0;
      grid-template-rows: 1fr;
      grid-template-areas: "content image";
    }
  }
}

.card-container.full .card + .card {
  margin-top: 1rem;
}

.card-container.compact .card {
  @container (min-width: 24rem) {
    grid-template-columns: 1fr 8rem;
    grid-template-rows: auto auto 1fr;
    grid-template-areas:
      "header header"
      "details image"
      "content content";
  }

  @container (min-width: 32rem) {
    grid-template-columns: 1fr 8rem;
    grid-template-areas:
      "header header"
      "details image"
      "content image";
  }
}

.card-container.tooltip {
  --card-text-size-sm: var(--text-xs);
  --card-text-size: var(--text-sm);
  --card-title-size: var(--text-base);
  --card-spacing: 0.75rem;

  min-width: 22rem;
  max-width: 32rem;

  & .card {
    grid-template-rows: auto auto 1fr;
    grid-template-columns: 1fr 6rem;

    grid-template-areas:
      "header header"
      "details image"
      "content content";

    &.back:not(.back-has-header) {
      padding: var(--card-spacing) 0;
      grid-template-rows: 1fr;
      grid-template-areas: "content image";
    }

    &.back:not(.has-image) {
      grid-template-columns: 1fr;
      padding: var(--card-spacing) 0;
      grid-template-rows: 1fr;
      grid-template-areas: "content";
    }
  }
}

.details {
  grid-area: details;

  & > * + * {
    margin-top: var(--card-spacing);
  }
}

.container {
  grid-area: content;

  & > * + * {
    margin-top: var(--card-spacing);
  }
}

.image {
  grid-area: image;
  & img {
    margin: 0 auto;
  }
}

.card-container.compact .image {
  max-width: 100%;
  width: 8rem;
}

.card-container.full .image img {
  max-width: 100%;
  width: 16rem;
}

.card-container.full .card.sideways .image img {
  max-width: 100%;
  width: 20rem;
}
